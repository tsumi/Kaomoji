<html>
<head>
<meta charset="UTF-8">
<title>Kaomoji</title>
<link rel="stylesheet" type="text/css" href="kaomoji.css">
<script type="application/x-javascript" src="jquery.js"></script>
<script type="text/javascript">
  function send(name, data){
    var event = document.createEvent('CustomEvent');
    event.initCustomEvent(name, true, true, data);
    document.documentElement.dispatchEvent(event);
  }

  $(document).ready(function () {
    $.getJSON( "kaomoji.json", function( data ) {
      $.each( data.category, function( id, category ) {
        $.each( category.sections, function( id, section ) {
          $("#cat_"+category.id+"_section").append('<div class="category">- '+section.id+'</div>');
          $.each( section.kaomoji, function( id, kaomoji ) {
            $("#cat_"+category.id+"_section").append('<div class="kaomoji"><a href="#">'+kaomoji+'</a></div>');
          });
        });
      });
    });

    $(".button").click(function() {
      $(".button").removeClass("selected");
      $("#"+$(this).attr("id")).addClass("selected");
      $(".section").addClass("hidden");
      $("#"+$(this).attr("id")+"_section").removeClass("hidden");
    });
    $(document).on("click", ".kaomoji a", function() {
      send("copy", $(this).text());
      return false;
    });
  });
</script>
</head>
<body>
<div id="menu">
<div class="button selected" id="cat_positive"><p>(￣ω￣)</p><p>Positive</p></div>
<div class="button" id="cat_neutral"><p>(-_-;)・・・</p><p>Neutral</p></div>
<div class="button" id="cat_negative"><p>(＃＞＜)</p><p>Negative</p></div>
<div class="button" id="cat_animals"><p>(=^‥^=)</p><p>Animals</p></div>
<div class="button" id="cat_actions"><p>|ω･)ﾉ</p><p>Actions</p></div>
</div>
<div id="list">
<div class="section" id="cat_positive_section"></div>
<div class="section hidden" id="cat_neutral_section"></div>
<div class="section hidden" id="cat_negative_section"></div>
<div class="section hidden" id="cat_animals_section"></div>
<div class="section hidden" id="cat_actions_section"></div>
</div>
</body>
</html>
